<!DOCTYPE html>
<!-- saved from url=(0090)https://incapture.atlassian.net/wiki/plugins/viewsource/viewpagesrc.action?pageId=71630930 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>View Source</title>
        <link rel="canonical" href="https://incapture.atlassian.net/wiki/pages/viewpage.action?pageId=$action.page.id">
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/wiki\"";
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern"]="\"(?:/wiki(?:/s/.*?/_)?/download|//d1ixbz5qgnvms3\\\\.cloudfront\\\\.net/incapture\\\\.atlassian\\\\.net/wiki(?:/s/.*?/_)?/download)\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="./Tutorial_Python_files/batch.css" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="//d1ixbz5qgnvms3.cloudfront.net/incapture.atlassian.net/wiki/s/000a09a525c066bad12450ab87d749eb-CDN/en_GB/6428/2ea41027c91142646414d0fb5d19218adf96fb83/f6fc99cd925974d8fcaaa74d4e8c1f41/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lt+IE+9&amp;jquery.external=true&amp;relative-url=true"  media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="//d1ixbz5qgnvms3.cloudfront.net/incapture.atlassian.net/wiki/s/000a09a525c066bad12450ab87d749eb-CDN/en_GB/6428/2ea41027c91142646414d0fb5d19218adf96fb83/f6fc99cd925974d8fcaaa74d4e8c1f41/_/download/contextbatch/css/_super/batch.css?atlassian.aui.raphael.disabled=true&amp;conditionalComment=lte+IE+9&amp;jquery.external=true&amp;relative-url=true"  media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./Tutorial_Python_files/batch(1).css" media="all">
<link type="text/css" rel="stylesheet" href="./Tutorial_Python_files/batch(2).css" media="all">
<link type="text/css" rel="stylesheet" href="./Tutorial_Python_files/batch(3).css" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="//d1ixbz5qgnvms3.cloudfront.net/incapture.atlassian.net/wiki/s/ab37dc21819eccdc9e77d6fc35522331-CDN/en_GB/6428/2ea41027c91142646414d0fb5d19218adf96fb83/24652ae65cfb418cb7fc33f6ce4ac990/_/download/contextbatch/css/editor-content,-_super/batch.css?conditionalComment=lte+IE+9&amp;confluence.view.edit.transition=true&amp;relative-url=true"  media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./Tutorial_Python_files/colors.css" media="all">

    </head>

    <body class="mceContentBody aui-theme-default wiki-content fullsize">
        <p>&nbsp;</p>         <div class="contentLayout2">
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p>&nbsp;</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2>Tutorial&nbsp;1: Your first Rapture Project&nbsp;</h2><p><u>Objectives:</u></p><ol><li>Use of the RIM user interface to interact with Rapture managed data&nbsp;</li><li>Use of a client-side python script app to highlight the Rapture API&nbsp;</li></ol><p><u>This will cover the following steps:</u></p><ol><li>Uploading a CSV file to a blob repo in your RIM instance</li><li>Translating raw CSV data files into document data type</li><li>Creating a series using document created in step #2</li><li>Running a graph based report from series data in step #3 and saving as blob pdf</li></ol><p><u>For the purposes of this tutorial:</u></p><ul><li>A python script is provided to allow you to exercise code and see the output in cmd line and follow along in the RIM user interface</li><li>It is recommended to also look at the source code</li><li>In this tutorial mac conventions are used for command line work</li></ul></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<table class="wysiwyg-macro" data-macro-name="note" data-macro-id="6ef462f6-0d17-4f06-b8fb-4b62877741a4" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>Before beginning this demonstration of Rapture it is expected that your environment satisfies the following pre-requisites</p><ol><li>Java 8 (or later) runtime is installed and accessible</li><li>Python 2.7.10 (or later) is installed with the following python modules installed:<ol><li>requests (<a href="https://pypi.python.org/pypi/requests">https://pypi.python.org/pypi/requests</a>)</li><li>numpy (<a href="https://pypi.python.org/pypi/numpy">https://pypi.python.org/pypi/numpy</a>)</li></ol></li></ol></td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p>&nbsp;</p><hr><p>&nbsp;</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>&nbsp;</p><hr><h2>1. Create new Repos for use in this Tutorial</h2><p>&nbsp;The first step in this tutorial is to login to your RIM instance and create the data repositories.</p><p>&nbsp;</p><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Process</p></th><th class="confluenceTh">&nbsp;</th><th class="confluenceTh">&nbsp;</th></tr><tr><td colspan="3" class="confluenceTd"><p>Login to your demo environment using url and credentials provided during signup</p></td></tr><tr><td colspan="1" class="confluenceTd">Create a Document repository using RIM's&nbsp;<strong><em>+ Add</em></strong>&nbsp;Repositories interface:<ol><li>Set&nbsp;<strong>Name</strong>&nbsp;to&nbsp;<em>tutorialDoc</em></li><li>Set&nbsp;<strong>Type</strong>&nbsp;to&nbsp;<em>Document</em></li><li>Set&nbsp;<strong>Data System</strong>&nbsp;to&nbsp;<em>MongoDB</em></li><li>Press the&nbsp;<strong>OK</strong>&nbsp;Button</li></ol></td><td colspan="1" class="confluenceTd">&nbsp;</td><td colspan="1" class="confluenceTd"><img class="confluence-embedded-image" width="248" src="./Tutorial_Python_files/Screen Shot 2016-02-05 at 11.19.16 AM.png" data-image-src="/wiki/download/attachments/71630930/Screen%20Shot%202016-02-05%20at%2011.19.16%20AM.png?version=1&amp;modificationDate=1454734925222&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="71631189" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2016-02-05 at 11.19.16 AM.png" data-base-url="https://incapture.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71630930" data-linked-resource-container-version="36" title="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 11.19.16 AM.png" data-location="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 11.19.16 AM.png" data-image-height="350" data-image-width="227"></td></tr><tr><td colspan="1" class="confluenceTd">Create a Blob repository again using&nbsp;RIM's&nbsp;<strong><em>+ Add</em>&nbsp;</strong>Repositories interface:<ol><li>Set&nbsp;<strong>Name</strong>&nbsp;to&nbsp;<em>tutorialBlob</em></li><li>Set&nbsp;<strong>Type</strong>&nbsp;to&nbsp;<em>Blob</em></li><li>Set&nbsp;<strong>Data System</strong>&nbsp;to&nbsp;<em>MongoDB</em></li><li>Press the&nbsp;<strong>OK</strong>&nbsp;Button</li></ol></td><td colspan="1" class="confluenceTd">&nbsp;</td><td colspan="1" class="confluenceTd"><img class="confluence-embedded-image" src="./Tutorial_Python_files/image2016-2-4 13-40-21.png" data-image-src="/wiki/download/attachments/71630930/image2016-2-4%2013%3A40%3A21.png?version=1&amp;modificationDate=1454635164254&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="71631041" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2016-2-4 13:40:21.png" data-base-url="https://incapture.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71630930" data-linked-resource-container-version="36" title="PRODUCT &gt; Rapture Getting Started: Python &gt; image2016-2-4 13:40:21.png" data-location="PRODUCT &gt; Rapture Getting Started: Python &gt; image2016-2-4 13:40:21.png" data-image-height="382" data-image-width="235"></td></tr><tr><td colspan="3" class="confluenceTd">With the two repositories in place we are ready to move onto the next step in the tutorial: upload a CSV file.</td></tr></tbody></table></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p>&nbsp;</p><hr><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="64bd2713-c043-4259-b190-ab0ea3e7329d" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e25vdGV9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>If you'd like to see how to create repositories via Rapture Information Manager's UI, follow this process. If you wish to skip this, the repo creation will be handled by our tutorial code.</p></td></tr></tbody></table><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="8d040aa2-5c27-4ce5-8224-7b49f7bf4810" data-macro-parameters="title=Create Repos" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2luZm86dGl0bGU9Q3JlYXRlIFJlcG9zfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>To Add a repo simply select "+ ADD" under REPOSITORIES.</p><p><img class="confluence-embedded-image" src="./Tutorial_Python_files/Screen Shot 2016-02-05 at 11.06.47 AM.png" data-image-src="/wiki/download/attachments/71630930/Screen%20Shot%202016-02-05%20at%2011.06.47%20AM.png?version=1&amp;modificationDate=1454734925160&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="71631186" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2016-02-05 at 11.06.47 AM.png" data-base-url="https://incapture.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71630930" data-linked-resource-container-version="36" title="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 11.06.47 AM.png" data-location="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 11.06.47 AM.png" data-image-height="172" data-image-width="257"></p></td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p>&nbsp;</p><hr><p>&nbsp;</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>&nbsp;</p><hr><h2>2. Capture Data&nbsp;– Load a CSV</h2><p><strong><span style="color: rgb(255,0,0);"><strong>(FIX THIS)</strong></span>&nbsp;ISSUES:</strong></p><ol><ol><li><strong>To run this application, you must be in RaptureTutorials/Intro01/python/src/main</strong>**</li><li><strong>&nbsp;if you do not have the environment variable "<span style="color: rgb(24,54,145);">RAPTURE_TUTORIAL_CSV<span style="color: rgb(0,0,0);">" set then you will also need to set the file path of the IntroDataInbound.csv: -f /path/to/csv</span></span></strong></li></ol></ol><p>&nbsp;</p><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="div" data-macro-id="8fcded1c-3521-416b-98d6-b8cfd36de8d6" data-macro-parameters="id=getcode|style=color:white;background-color:black;padding:20px;border:white;border-color: gray;border-radius: 5px;" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2RpdjpzdHlsZT1jb2xvcjp3aGl0ZTtiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO3BhZGRpbmc6MjBweDtib3JkZXI6d2hpdGU7Ym9yZGVyLWNvbG9yOiBncmF5O2JvcmRlci1yYWRpdXM6IDVweDt8aWQ9Z2V0Y29kZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>$ python App.py -s UPLOAD -p &lt;password&gt;&nbsp;</pre></td></tr></tbody></table><table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="541c9ebb-5a97-4d07-99ed-1d744d37dc32" data-macro-parameters="title=Under the Hood" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e3RpcDp0aXRsZT1VbmRlciB0aGUgSG9vZH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="3b49e907-751c-454b-89a5-cf13b2f6aafa" data-macro-parameters="title=Click here to see what&#39;s going on under the hood..." data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2V4cGFuZDp0aXRsZT1DbGljayBoZXJlIHRvIHNlZSB3aGF0J3MgZ29pbmcgb24gdW5kZXIgdGhlIGhvb2QuLi59&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>This is the first step in the python Tutorial Intro01. All steps use the global login "rapture" from the "loginToRapture" function seen here:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9fb15c8b-8e44-4a01-89c8-a55a95dfcbcf" data-macro-parameters="firstline=1|language=py" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8Zmlyc3RsaW5lPTF9&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>def loginToRapture(url, username, password):

	global rapture

	rapture = raptureAPI.raptureAPI(url, username, password)

	if 'valid' in rapture.context and rapture.context['valid']:

	    print 'Logged in successfully ' + url

	else:

		print "Login unsuccessful"</pre></td></tr></tbody></table><p>&nbsp;</p><ol><li>The csv file is read from the file location (provided by argument or environment variable).</li><li><p>Next, we create a URI, repo config, and meta config for the blob repository we intend so upload our CSV file to:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="708dd50c-2c0a-426f-9c98-fdfb8a7c3fd2" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre># Create blob repo

	blobRepoUri = "//tutorialBlob"

	rawCsvUri = blobRepoUri + "/introDataInbound.csv"

	config = "BLOB {} USING MONGODB {prefix=\"tutorialBlob\"}"

	metaConfig = "REP {} USING MEMORY {prefix=\"tutorialBlob\"}"</pre></td></tr></tbody></table><p>This:&nbsp;BLOB {} USING MONGODB {prefix=\"tutorialBlob\"} this config declares the repo as a BLOB repo, using MongoDB (when supplied, other back-ends can be used such as Cassandra or Redis), with a MongoDB prefix of "tutorialBlob". The meta data config uses a non-versioned document repository ("REP") using system memory, with the same prefix.</p></li><li><p>We check if the repository may already exist, clean it out if it does, then (re-)create it:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="333e6335-d514-440b-99c6-055d2ab6b71c" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>if(rapture.doBlob_BlobRepoExists(blobRepoUri)):

		print "Repo exists, cleaning &amp; remaking"

		rapture.doBlob_DeleteBlobRepo(blobRepoUri)	

	rapture.doBlob_CreateBlobRepo(blobRepoUri, config, metaConfig)</pre></td></tr></tbody></table></li><li><p>To finally upload the CSV to the BLOB repo we just created, we encode the raw .csv data using base64, and upload to the rawCsvUri with the description of "text/csv":</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9b932a7a-2562-4468-9f32-34ae074fc146" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>   # Encode and Store Blob

	print "Uploading CSV"

	encoded_blob = base64.b64encode(str(rawFileData))

	rapture.doBlob_PutBlob(rawCsvUri, encoded_blob, "text/csv")</pre></td></tr></tbody></table></li></ol></td></tr></tbody></table></td></tr></tbody></table><p>&nbsp;</p><h3>2.1 You can now view the CSV in Rapture Information Manager.</h3><p><span style="color: rgb(255,0,0);"><strong style="line-height: 1.42857;">(ADD SCREENSHOT)</strong></span></p></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p>&nbsp;</p><hr><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="f77da24e-7dce-44e9-8838-c6f1870ce7bd" data-macro-parameters="title=In this step" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2luZm86dGl0bGU9SW4gdGhpcyBzdGVwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>Run upload script to load CSV into Blob</p><p>View Blob</p></td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p style="text-align: right;"><br><br></p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr><h2>3. Translate Data&nbsp;– Create documents from raw Data</h2><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="div" data-macro-id="f144c5d6-0e66-4177-8d8b-05c0ce596f44" data-macro-parameters="id=getcode|style=color:white;background-color:black;padding:20px;border:white;border-color: gray;border-radius: 5px;" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2RpdjpzdHlsZT1jb2xvcjp3aGl0ZTtiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO3BhZGRpbmc6MjBweDtib3JkZXI6d2hpdGU7Ym9yZGVyLWNvbG9yOiBncmF5O2JvcmRlci1yYWRpdXM6IDVweDt8aWQ9Z2V0Y29kZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>$ python App.py -s BLOBTODOC -p &lt;password&gt;&nbsp;</pre></td></tr></tbody></table><table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="fc2b8bef-f56c-4f59-9485-1cc8dec5a084" data-macro-parameters="title=Under the Hood" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e3RpcDp0aXRsZT1VbmRlciB0aGUgSG9vZH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="da25b1be-c2bc-45d6-aacb-040b4f4c1ca4" data-macro-parameters="title=Click here to see what&#39;s going on under the hood..." data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2V4cGFuZDp0aXRsZT1DbGljayBoZXJlIHRvIHNlZSB3aGF0J3MgZ29pbmcgb24gdW5kZXIgdGhlIGhvb2QuLi59&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><ol><li>First thing we do in this step is to check if the CSV data has already been uploaded to the BLOB (done in UPLOAD step).</li><li><p>We then retrieve that data, and decode with base64 (recall we encoded it with base64 before uploading). We then transform the raw CSV data into a list of lists, with each list being a "row" in the CSV data &amp; the very first one containing the keys (ex: frequency):</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="62f074ed-dde0-42b1-8772-8fda95f85ef3" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>		# Pull encoded blob out of rapture

	 	encoded_blob = rapture.doBlob_GetBlob(blobUri)['content']

		# Decode blob using base64 python library

		blob_string = base64.b64decode(str(encoded_blob))

		# Add list identifiers to string so that we can convert to python list

		blob_string = "[[\"" + blob_string.replace(',', "\",\"").replace('\n', "\"],[\"") + "\"]]"

		# Convert string to python list

		rows = ast.literal_eval(blob_string)</pre></td></tr></tbody></table></li><li><p>We then create a&nbsp;<em>versioned&nbsp;</em>document repository ("NREP") using MONGODB with a prefix of "tutorialDoc" by creating a configuration string to pass to the CreateDocRepo API call. The same check here is done as in the UPLOAD step to clean the repository out if it already exists:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="8e8876d3-9ccb-4d38-a27f-9b3c636292a0" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>		# Create doc repo

		docRepoUri = "//tutorialDoc"

		docUri = docRepoUri + "/introDataTranslated"

		config = "NREP {} USING MONGODB {prefix=\"tutorialDoc\"}"

		if(rapture.doDoc_DocRepoExists(docRepoUri)):

			rapture.doDoc_DeleteDocRepo(docRepoUri)	

		rapture.doDoc_CreateDocRepo(docRepoUri, config)</pre></td></tr></tbody></table></li><li><p>The next block of code is the guts of the transformation of data from the list of lists into a flattened JSON structure using Python dictionaries. The structure goes as follows:&nbsp;</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="9ce74b37-9926-46d9-8dd3-f466050c5946" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>{Provider: &lt;provider&gt;,{series_type: &lt;series_type&gt;}, {frequency: &lt;frequency&gt;}, {index_id:{&lt;index_id&gt;:{&lt;price_type&gt;:{&lt;date&gt;:&lt;index_price&gt;}}}</pre></td></tr></tbody></table></li><li><p>Once we have the data structured the way we want it, we then make a Rapture API call to put it into our document repository we just created. Note that since we are in python, we must use "json.dumps" to convert the dictionary to a JSON object. Since an orderedDict was used to format the order the data appears, we set "sort_keys" to "False" to preserve the order.</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="63811ea5-f867-40dc-a8d3-bac04e8d73f8" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>		#PUT THE CSV DATA RETRIEVED FROM A BLOB &amp; TRANSLATED INTO THE DOCUMENT REPOSITORY
		rapture.doDoc_PutDoc(docUri, json.dumps(Order, sort_keys=False))</pre></td></tr></tbody></table></li></ol></td></tr></tbody></table></td></tr></tbody></table><p>&nbsp;</p><h3>3b. You can now view your document in the Rapture Information Manager browser:<br><img class="confluence-embedded-image" src="./Tutorial_Python_files/Screen Shot 2016-02-05 at 9.44.51 AM.png" data-image-src="/wiki/download/attachments/71630930/Screen%20Shot%202016-02-05%20at%209.44.51%20AM.png?version=1&amp;modificationDate=1454694333864&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="71631068" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2016-02-05 at 9.44.51 AM.png" data-base-url="https://incapture.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="71630930" data-linked-resource-container-version="36" title="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 9.44.51 AM.png" data-location="PRODUCT &gt; Rapture Getting Started: Python &gt; Screen Shot 2016-02-05 at 9.44.51 AM.png" data-image-height="1436" data-image-width="2712"></h3></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="44ac0efb-eb46-4d63-afc6-330cf4fb773d" data-macro-parameters="title=In this step" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2luZm86dGl0bGU9SW4gdGhpcyBzdGVwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>Run translate script to create Doc</p><p>View Doc</p></td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p>&nbsp;</p><p>&nbsp;</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr><h2>4. Analyze Data&nbsp;– Update series Data from documents</h2><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="div" data-macro-id="a33c0c5c-a94a-4aff-9c34-4f6d979d637f" data-macro-parameters="id=getcode|style=color:white;background-color:black;padding:20px;border:white;border-color: gray;border-radius: 5px;" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2RpdjpzdHlsZT1jb2xvcjp3aGl0ZTtiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO3BhZGRpbmc6MjBweDtib3JkZXI6d2hpdGU7Ym9yZGVyLWNvbG9yOiBncmF5O2JvcmRlci1yYWRpdXM6IDVweDt8aWQ9Z2V0Y29kZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>$ python App.py -s DOCTOSERIES -p &lt;password&gt;&nbsp;</pre></td></tr></tbody></table><table class="wysiwyg-macro" data-macro-name="tip" data-macro-id="e971ccdf-78d4-4689-9619-a63fd52b9c81" data-macro-parameters="title=Under the Hood" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e3RpcDp0aXRsZT1VbmRlciB0aGUgSG9vZH0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><table class="wysiwyg-macro" data-macro-name="expand" data-macro-id="e1ec228c-58a8-419f-a7c9-a1ad2dbe603c" data-macro-parameters="title=Click here to see what&#39;s going on under the hood..." data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2V4cGFuZDp0aXRsZT1DbGljayBoZXJlIHRvIHNlZSB3aGF0J3MgZ29pbmcgb24gdW5kZXIgdGhlIGhvb2QuLi59&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><ol><li>The first thing we do in this step is to check that the document repository containing the JSON data exists (we created it in the last step: BLOBTODOC)</li><li><p>We then retrieve &amp; convert the document content (JSON) back into a python dictionary:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="dfe4a37f-21fe-4d3f-86ff-a195d938f165" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>		# Convert json string to a python dict object
		doc = ast.literal_eval(rapture.doDoc_GetDoc(docUri))</pre></td></tr></tbody></table></li><li>We then check if the&nbsp;//datacapture series repo has already been created (It should have came pre-installed on your demo environment)</li><li><p>Next is the code block for generating a series URI for each price type. An Example URI would be:<br>//datacapture/HIST/Provider_1a/AUDUSD_CURNCY_Dummy/DAILY/PX_BID&nbsp;<br>The loop in this script generates disposable base URI's and is able to insert the data from our dictionary into the correct respective series URI's.<br>The API call to insert the data into a series is:</p><table class="wysiwyg-macro" data-macro-name="code" data-macro-id="5ce279b7-f1ac-457a-bea9-1bb8b4592f5f" data-macro-parameters="language=py|theme=Eclipse" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvZGU6bGFuZ3VhZ2U9cHl8dGhlbWU9RWNsaXBzZX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="PLAIN_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><pre>		# Store each date and price in the appropriate series
		rapture.doSeries_AddDoubleToSeries(seriesUri, date, float(price))</pre></td></tr></tbody></table></li></ol></td></tr></tbody></table></td></tr></tbody></table><p>&nbsp;</p><h3>4b. Your data has now been stored in Rapture Information Manager in three forms: raw CSV, JSON document, and series data. You can view it from the RIM web interface.</h3><p><span style="color: rgb(255,0,0);"><strong>(ADD SCREENSHOT)</strong></span></p></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p>&nbsp;</p><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="info" data-macro-id="cbbdecaf-2252-4331-92fd-def24ad792c7" data-macro-parameters="title=In this step" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e2luZm86dGl0bGU9SW4gdGhpcyBzdGVwfQ&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>Run analyze script to create/update Series</p><p>View Series</p></td></tr></tbody></table></div>
</div>
</div>
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p>&nbsp;</p><p>&nbsp;</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr><h2>5. Reset Data (Optional)</h2><p>&nbsp;</p><table class="wysiwyg-macro" data-macro-name="note" data-macro-id="fe8c084e-21fb-4fb1-a5b4-91d7ac820bf1" data-macro-parameters="title=Reset data" data-macro-schema-version="1" style="background-image: url(/wiki/plugins/servlet/confluence/placeholder/macro-heading?definition=e25vdGU6dGl0bGU9UmVzZXQgZGF0YX0&amp;locale=en_GB&amp;version=2); background-repeat: no-repeat;" data-macro-body-type="RICH_TEXT"><tbody><tr><td class="wysiwyg-macro-body"><p>Follow these steps to reset your demo environment.</p><ol><li>Using RIM, go to Scripts/Tutorial01/tutorialCleanup.rfx and click open.</li><li>Execute the script using the "Run Script" button</li></ol></td></tr></tbody></table></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<hr><p>&nbsp;</p></div>
</div>
</div>
</div>
        <p>&nbsp;</p>
    

</body></html>